---
title: 用户登入测试用例设计
date: 2021/10/12 00:00
updated: 2023/09/10 12:29
categories:
- [架构, 业务架构]
tags:
- 测试用例
- 软件测试
---

## 划分维度

软件测试根据维度划分为两大需求：

1. 显式功能性需求
2. 隐式功能性需求

> 显式功能性需求（Functional requirement）指的是软件本身需要实现的具体功能，对应的是隐式功能性需求(Non-functional requirement）

隐式功能性需求主要涉三大方面:

1. 安全性
2. 性能
3. 兼容性

因此，设计测试用例的时候可以根据上述划分来设计。



## 显式功能性需求测试用例设计

- 输入已注册的用户名和正确的密码，验证是否登录成功
- 输入已注册的用户名和不正确的密码，验证是否登录失败，并且提示信息正确
- 输入未注册的用户名和任意密码，验证是否登录失败，并且提示信息正确
- 用户名和密码两者都为空，验证是否登录失败，并且提示信息正确
- 用户名和密码两者之一为空，验证是否登录失败，并且提示信息正确
- 如果登录功能启用了验证码功能，在用户名和密码正确的前提下，输入正确的验证码，验证是否登录成功
- 如果登录功能启用了验证码功能，在用户名和密码正确的前提下，输入错误的验证码，验证是否登录失败，并且提示信息正确
- 用户名和密码是否大小写敏感
- 页面上的密码框是否加密显示
- 后台系统创建的用户第一次登录成功时，是否提示修改密码
- 忘记用户名和忘记密码的功能是否可用
- 前端页面是否根据设计要求限制用户名和密码长度
- 如果登录功能需要验证码，点击验证码图片是否可以更换验证码，更换后的验证码是否可用
- 刷新页面是否会刷新验证码
- 如果验证码具有时效性，需要分别验证时效内和时效外验证码的有效性
- 用户登录成功但是会话超时后，继续操作是否会重定向到用户登录界面
- 不同级别的用户，比如管理员用户和普通用户，登录系统后的权限是否正确
- 页面默认焦点是否定位在用户名的输入框中
- 快捷键 Tab 和 Enter 等，是否可以正常使用
- 网络延迟或者弱网或者切换网络或者断网时正常登录是否正常
- 是否支持第三方登录
- 用户名密码是否支持特殊字符和中文等
- 登录用户限制，比如同时支持10个用户登录，同时9个或者11个用户登录是否正常或者提示信息正确
- 未激活的用户是否可以登录
- 被停用的用户是否可以登录
- 登录的操作日志记录是否准确
- 登录有实效性是否控制正确
- 为空和输入空字符串时的校验是否一致
- 使用中文键盘输入字母时和使用英文键盘输入字母时传给后端的字符长度是否一致
- 输入账号密码时对键盘格式是否有要求比如数字键盘
- 密码一栏是否需要设置明暗码切换按钮
- 输入账号密码格式不规范时是否将按钮设置为不可点击
- 输入栏是否设置快速删除按钮
- 是否用到缓存
- 用户名和密码是否对空格敏感
- 密码是否有明文和暗文显示两种模式
- 更改密码后是否还能用之前的密码登录
- 一个用户是否具备多种登录方式(用户名，手机号，邮箱...)



## 隐式功能性需求测试用例设计（三大方面）



### 安全性测试用例设计

- 用户密码后台存储是否加密
- 用户密码在网络传输过程中是否加密
- 密码是否具有有效期，密码有效期到期后，是否提示需要修改密码
- 不登录的情况下，在浏览器中直接输入登录后的 URL 地址，验证是否会重新定向到用户登录界面
- 密码输入框是否不支持复制和粘贴
- 密码输入框内输入的密码是否都可以在页面源码模式下被查看
- 用户名和密码的输入框中分别输入典型的“SQL 注入攻击”字符串，验证系统的返回页面
- 用户名和密码的输入框中分别输入典型的“XSS 跨站脚本攻击”字符串，验证系统行为是否被篡改
- 连续多次登录失败情况下，系统是否会阻止后续的尝试以应对暴力破解
- 同一用户在同一终端的多种浏览器上登录，验证登录功能的互斥性是否符合设计预期
- 同一用户先后在多台终端的浏览器上登录，验证登录是否具有互斥性
- 是否可以使用登录的API发送登录请求，并绕开验证码校验
- 是否可以用抓包工具抓到的请求包直接登录
- 截取到的token等信息，是否可以在其他终端上直接使用，绕开登录，token过期时间
- 是否可记住密码，记住的密码保存是否加密
- 记住密码是否有有效期，有有效期，过期之后是否会清空密码
- GDPR相关的测试，用户登录过程中log中是否有个人信息明文打印
- 密码强弱性校验
- 登录成功后的session时效设置
- 安全性方面异地登录校验、更换设备登录校验、登录信息异常是否考虑账号冻结停用



### 性能压力测试用例设计

- 单用户登录的响应时间是否小于 3 秒
- 单用户登录时，后台请求数量是否过多
- 高并发场景下用户登录的响应时间是否小于 5 秒
- 高并发场景下服务端的监控指标是否符合预期
- 高集合点并发场景下，是否存在资源死锁和不合理的资源等待
- 长时间大量用户连续登录和登出，服务器端是否存在内存泄漏



### 兼容性测试用例设计

- 不同浏览器下，验证登录页面的显示以及功能正确性；
- 相同浏览器的不同版本下，验证登录页面的显示以及功能正确性；
- 不同移动设备终端的不同浏览器下，验证登录页面的显示以及功能正确性；
- 不同分辨率的界面下，验证登录页面的显示以及功能正确性。

当然，除了上面罗列的测试用例外，还会存在一些遗漏的测试点没有覆盖到。大多数情况下，是不可能进行穷尽测试的。一般采用基于风险驱动的模式，有所侧重地选择测试范围和设计测试用例，以寻求缺陷风险和研发成本之间的平衡。

> **穷尽测试**是指包含了软件输入值和前提条件所有可能组合的测试方法，完成穷尽测试的系统里应该不残留任何未知的软件缺陷。



## 结尾

每一个解决方案都是下一个问题的来源，要真正理解问题，那至少对自己的解决方案提出三个可能出错的地方。
																			 --《你的灯亮着吗》Donald C. Gaus

（本文完）